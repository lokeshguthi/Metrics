<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="main :: headTag">
</head>
<body>
<div th:replace="main :: navBar"></div>

<div class="container">

    <div th:replace="main :: errorMsg"></div>

    <div id="user-settings" class="col-sm-8 col-sm-offset-2">
        <h2>Benutzerdaten</h2>
        <div id="userform">
            <form action="#" class="form-horizontal" method="post" th:action="@{/settings/changename}" th:object="${user}">
                <div class="form-group"  th:classappend="${#fields.hasErrors('username')} ? has-error">
                    <label for="username" class="col-sm-3 control-label">Nutzername:</label>
                    <div class="col-sm-9">
                        <p class="form-control-static" th:text="*{username}" id="username"></p>
                    </div>
                </div>
                <div class="form-group"  th:classappend="${#fields.hasErrors('studentid')} ? has-error">
                    <label for="studentid" class="col-sm-3 control-label">Matrikelnummer:</label>
                    <div class="col-sm-9">
                        <p class="form-control-static" th:text="${@format.empty(user.studentid)}" id="studentid"></p>
                    </div>
                </div>
                <div class="form-group"  th:classappend="${#fields.hasErrors('email')} ? has-error">
                    <label for="email" class="col-sm-3 control-label">Email:</label>
                    <div class="col-sm-9">
                        <p class="form-control-static" th:text="*{email}" id="email"></p>
                    </div>
                </div>
                <div class="form-group"  th:classappend="${#fields.hasErrors('firstname')} ? has-error">
                    <label for="firstname" class="col-sm-3 control-label">Vorname:</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" th:field="*{firstname}"/>
                        <div class="help-block" th:if="${#fields.hasErrors('firstname')}" th:errors="*{firstname}"/>
                    </div>
                </div>
                <div class="form-group"  th:classappend="${#fields.hasErrors('lastname')} ? has-error">
                    <label for="lastname" class="col-sm-3 control-label">Nachname:</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" th:field="*{lastname}"/>
                        <div class="help-block" th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}"/>
                    </div>
                </div>

                <div class="col-sm-offset-3 col-sm-2">
                    <input type="submit" class="btn btn-primary" value="채ndern"/>
                </div>
                <div class="col-sm-7 form-control-static" th:if="${namechanged}"><p th:text="${namechanged}"></p></div>
            </form>
        </div>
    </div>
    <div id="change-password" class="col-sm-8 col-sm-offset-2">
        <h2>Passwort 채ndern</h2>
        <form action="#" class="form-horizontal" method="post" th:action="@{/settings/password}" th:object="${passwordChange}">
            <input type="text" class="hidden" th:field="*{username}" autocomplete="username"/> <!-- not used, only for password managers-->
            <div class="form-group"  th:classappend="${#fields.hasErrors('password')} ? has-error">
                <label for="oldPassword" class="col-sm-3 control-label">Altes Passwort:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" th:field="*{oldPassword}" autocomplete="current-password"/>
                    <div class="help-block" th:if="${#fields.hasErrors('oldPassword')}" th:errors="*{oldPassword}"/>
                </div>
            </div>
            <div class="form-group"  th:classappend="${#fields.hasErrors('password')} ? has-error">
                <label for="password" class="col-sm-3 control-label">Neues Passwort:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" th:field="*{password}" autocomplete="new-password"/>
                    <div class="help-block" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"/>
                </div>
            </div>
            <div class="form-group"  th:classappend="${#fields.hasErrors('password2')} ? has-error">
                <label for="password2" class="col-sm-3 control-label">Neues Passwort best채tigen:</label>
                <div class="col-sm-9">
                    <input type="password" class="form-control" th:field="*{password2}" autocomplete="new-password"/>
                    <div class="help-block" th:if="${#fields.hasErrors('password2')}" th:errors="*{password2}"/>
                </div>
            </div>
            <div class="col-sm-offset-3 col-sm-2">
                <input type="submit" class="btn btn-primary" value="채ndern"/>
            </div>
            <div class="col-sm-7 form-control-static" th:if="${passwordchanged}"><p th:text="${passwordchanged}"></p></div>
        </form>
    </div>

</div>

<div th:replace="main :: footer"></div>
</body>
</html>